{% extends 'settings/layout.html' %}
{% load i18n %}
{% block title %}{% trans "Email Blocklist" %}{% endblock %}

{% block header %}{% trans "Email Blocklist" %}{% endblock %}

{% block edit-button %}
{% trans "Add domain" as button_text %}
{% include 'snippets/toggle/open_button.html' with controls_text="add_domain" icon_with_text="plus" text=button_text focus="add_domain_header" %}
</a>
{% endblock %}

{% block panel %}
{% include 'settings/domain_form.html' with controls_text="add_domain" class="block" %}

<p class="notification block">
    {% trans "When someone tries to register with an email from this domain, no account will be created. The registration process will appear to have worked." %}
</p>

<table class="table is-striped">
    <tr>
        {% url 'settings-federation' as url %}
        <th>
            {% trans "Domain" as text %}
            {% include 'snippets/table-sort-header.html' with field="server_name" sort=sort text=text %}
        </th>
        <th>
            {% trans "Options" %}
        </th>
    </tr>
    {% for domain in domains %}
    <tr>
        <td>{{ domain.domain }}</td>
        <td>
            {% trans "Delete" as button_text %}
            <button class="button">
                <span class="icon icon-x" title="{{ button_text }}" aria-hidden="true"></span>
                <span class="is-hidden-mobile">{{ button_text }}</span>
            </button>
        </td>
    </tr>
    {% endfor %}
</table>

{% include 'snippets/pagination.html' with page=servers path=request.path %}
{% endblock %}

