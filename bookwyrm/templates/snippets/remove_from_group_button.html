{% load i18n %}
{% load bookwyrm_group_tags %}
{% if request.user == user or not request.user == group.user or not request.user.is_authenticated %}
{% elif user in request.user.blocks.all %}
{% include 'snippets/block_button.html' with blocks=True %}
{% else %}
<div class="field{% if not minimal %} has-addons{% else %} mb-0{% endif %}">
    <div class="control">
        <form action="{% url 'remove-group-member' %}" method="POST" class="interaction add_{{ user.id }}" data-id="add_{{ user.id }}">
            {% csrf_token %}
            <input type="hidden" name="group" value="{{ group.id }}">
            <input type="hidden" name="user" value="{{ user.username }}">
            <button class="button is-small is-danger is-light" type="submit">
              {% if show_username %}
              {% blocktrans with username=user.localname %}Remove @{{ username }}{% endblocktrans %}
              {% else %}
              {% trans "Remove" %}
              {% endif %}
          </button>
        </form>
    </div>
</div>
{% endif %}
